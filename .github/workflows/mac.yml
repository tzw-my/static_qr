name: x pkg test bin
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

  workflow_dispatch:

jobs:
  linux_x64:
    runs-on: ubuntu-latest
    env:
      github_token: ${{ secrets.GITHUB_TOKEN }}
      ssh_key: ${{ secrets.REPO_SSH_KEY }}
      git_user: tzw-my
      git_email: tzw@x-cmd.com
      os_name: linux/x64
    steps:
      - name: main
        uses: x-cmd/action@main
        with:
          code: |
            curl -LO https://github.com/tzw-my/static_qr/raw/main/test.sh
            . ./test.sh
  mac_x64:
    runs-on: macos-latest
    env:
      github_token: ${{ secrets.GITHUB_TOKEN }}
      ssh_key: ${{ secrets.REPO_SSH_KEY }}
      git_user: tzw-my
      git_email: tzw@x-cmd.com
      os_name: darwin/x64
    steps:
      - name: main
        uses: x-cmd/action@main
        with:
          code: |
            curl -LO https://github.com/tzw-my/static_qr/raw/main/test.sh
            . ./test.sh
  windows_x64:
    runs-on: windows-latest
    env:
      github_token: ${{ secrets.GITHUB_TOKEN }}
      ssh_key: ${{ secrets.REPO_SSH_KEY }}
      git_user: tzw-my
      git_email: tzw@x-cmd.com
      os_name: win/x64
    steps:
      - name: main
        uses: x-cmd/action@main
        with:
          code: |
            curl -LO https://github.com/tzw-my/static_qr/raw/main/test.sh
            . ./test.sh
  